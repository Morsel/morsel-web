<div class="image-upload">
  <div class="image-upload-select" ng-show="!selectedFiles || selectedFiles.length === 0">
    <button ng-file-select="onFileSelect($files)" title="select file" onclick="this.value = null" class="btn btn-primary btn-block" data-accept="image/*">Upload an image from your computer</button>

    <div ng-show="dropSupported" class="drop-box" ng-file-drop="onFileSelect($files)" ng-file-drop-available="dropSupported=true"
      ng-file-drag-over-class="dragOverClass($event)" ng-file-drag-over-delay="100">or drag and drop image file here</div>
    <div ng-show="!dropSupported">HTML5 Drop File is not supported on this browser</div>
  </div>
  <div class="err" ng-show="errorMsg != null">{{errorMsg}}</div>

  <div ng-show="selectedFiles && selectedFiles.length > 0" class="image-upload-preview">
    <div class="sel-file" ng-repeat="f in selectedFiles">
      <div class="progress image-upload-progress" ng-show="displayProgress >= 0">
        <progressbar class="progress-striped active" max="100" value="displayProgress" type="success"></progressbar>
      </div>
      <div class="image-upload-preview-img" ng-style="{'background-image':'url('+dataUrls[$index]+')'}"></div>
    </div>
  </div>
</div>