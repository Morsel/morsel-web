<div class="activity-feed">
  <ul ng-show="feed.length > 0">
    <li ng-repeat="activity in feed">
      <div class="user-info">
        <div mrsl-user-image mrsl-username="activity.creator.username" mrsl-user-photos="activity.creator.photos" mrsl-user-image-size="profile-pic-s"></div>
        <div class="user-body">
          <div ng-if="activity.subject_type === 'Item'">
          <!-- COME BACK TO THIS -->
            <a class="activity-subject" href="/{{activity.subject.creator.username}}/{{activity.subject.morsel.id}}-{{activity.subject.morsel.slug}}">
              <img ng-src="{{activity.subject.photos ? activity.subject.photos._80x80 : morselPlaceholder}}" />
            </a>
            <p><span ng-if="activity.creator.id === user.id">You</span><a href="/{{activity.creator.username}}" ng-if="activity.creator.id !== user.id">{{activity.creator.first_name}}</a> {{activity.action_type === 'Like' ? 'liked':''}}{{activity.action_type === 'Comment' ? 'commented on':''}} <span ng-if="activity.subject.creator.id === user.id">your</span><a ng-if="activity.subject.creator.id !== user.id" href="/{{activity.subject.creator.username}}">{{activity.subject.creator.first_name+' '+activity.subject.creator.last_name}}'s</a> "{{activity.subject.morsel.title+(activity.subject.description ? ': '+activity.subject.description : '') | truncate:80}}"</p>
            <span am-time-ago="activity.action.created_at" class="time-ago"></span>
          </div>
          <div ng-if="activity.subject_type === 'User' && activity.action_type === 'Follow'">
            <div class="activity-subject" mrsl-user-image mrsl-username="activity.subject.username" mrsl-user-photos="activity.subject.photos" mrsl-user-image-size="profile-pic-s"></div>
            <p><span ng-if="activity.creator.id === user.id">You</span><a href="/{{activity.creator.username}}" ng-if="activity.creator.id !== user.id">{{activity.creator.first_name}}</a> followed {{activity.subject.first_name+' '+activity.subject.last_name}} (<a href="/{{activity.subject.username}}">{{activity.subject.username}}</a>)</p>
            <span am-time-ago="activity.action.created_at" class="time-ago"></span>
          </div>
        </div>
      </div>
    </li>
  </ul>
  <div ng-show="!feed" class="loader"></div>
  <div ng-show="feed && feed.length === 0" class="empty-state">
    <p>No activity to show</p>
  </div>
</div>