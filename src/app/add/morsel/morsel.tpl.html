<div class="add-morsel" ng-style="viewOptions.minimumMainHeight()">
  <div class="container container-shadow morsel-bg">
    <div class="template-help" ng-show="morselDataLoaded && !morselDeleted" mrsl-add-template="morselTemplate" mrsl-add-template-help="true"></div>
    <form name="morselEditForm" ng-submit="publish()" novalidate>
      <div ng-show="alertMessage" class="alert alert-{{alertType}}">
        <p ng-bind-html="alertMessage"></p>
      </div>
      <div mrsl-base-errors mrsl-val-form="morselEditForm"></div>
      <div ng-if="!morselDeleted && (!morselDataLoaded || deletingMorsel)" class="loader"></div>
      <div ng-if="!morselDeleted && (morselDataLoaded && !deletingMorsel)" class="row" bindonce="morsel">
        <div class="col-sm-5">
          <div class="add-morsel-info">
            <div class="add-morsel-info-wrap">
              <h2 bo-text="morsel.draft ? 'Morsel Add' : 'Morsel Edit'"></h2>
              <div mrsl-edit-morsel-title="morsel" mrsl-edit-morsel-title-template="morselTemplate"></div>
              <p class="h3" title="Use the app to update your morsel's location">Where: <span bo-text="morsel.place ? morsel.place.name : 'No Location/Personal'"></span></p>
              <p class="help-block">Please use the app to change your morsel's location</p>
              <div class="add-morsel-social">
                <p class="h3">Social Sharing:</p>
                <div class="checkbox" ng-class="{disabled:!social.canPublish.facebook}">
                  <label>
                    <input type="checkbox" value="" name="socialFacebook" ng-model="social.model.facebook" ng-disabled="!social.canPublish.facebook">
                    <i class="common-facebook"></i>
                    Post to Facebook
                  </label>
                  <p class="help-block">You haven't given Morsel permission to post to Facebook. <btn ng-click="addFacebook()" class="btn-link">Click here</btn> to give permission.</p>
                </div>
                <!--<div class="checkbox" ng-class="{disabled:!authentications.twitter}">
                  <label>
                    <input type="checkbox" value="" name="socialTwitter" ng-model="socialTwitterModel" ng-disabled="{{!socialModel.twitter}}">
                    <i class="common-twitter"></i>
                    Post to Twitter
                  </label>
                  <p class="help-block">You haven't connected your Twitter account. <a href="/account/social-accounts" target="_self">Click here</a> to connect.</p>
                </div>-->
              </div>
              <div class="add-morsel-actions">
                <button class="btn btn-danger pull-left" ng-click="deleteMorsel()" name="deleteMorsel" ng-model="fake">Delete Morsel</button>
                <a bo-href="'/'+morsel.creator.username.toLowerCase()+'/'+morsel.id+'-'+morsel.slug" class="btn btn-info" target="_blank" bo-text="morsel.draft ? 'Preview':'Go to morsel'"></a>
                <button mrsl-submit-btn mrsl-submit-btn-form="morselEditForm" mrsl-submit-btn-copy="Publish" mrsl-submit-btn-tooltip-placement="bottom" mrsl-submit-btn-custom-messages="customPublishTooltips" ng-if="morsel.draft && morselDataLoaded"></button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-7 items-wrap">
          <div id="item-reorder">
            <ul class="add-morsel-items" data-sortable="itemOrderListeners" data-ng-model="morsel.items">
              <li class="add-morsel-item" ng-if="morsel.items" ng-repeat="item in morsel.items" data-sortable-item>
                <div data-sortable-item-handle title="Drag to reorder your items" ng-hide="updatingOrder || morsel.items.length === 1"></div>
                <div mrsl-edit-item="item"></div>
              </li>
              <li ng-if="!morsel.items || morsel.items.length === 0">
                <p class="empty-state">This morsel doesn't have an items</p>
              </li>
            </ul>
            <div ng-class="{'loader': addingItem}">
              <p class="btn-link add-item-btn" ng-click="addItem()" ng-hide="addingItem"><span>&#43;</span> Add item</p>
            </div>
            <input name="itemReorderHidden" class="hidden" ng-model="fake">
          </div>
        </div>
      </div>
    </form>
  </div>
</div>